{% extends 'base.html.twig' %}

{% block title %}Produits{% endblock %}

{% block body %}

    <br/>

    <h1 style="display:flex; justify-content:center; text-decoration: underline; font-family: Tahoma">
        {{ 'produit.titre' |trans }}
    </h1>

    <br/>

    {% if produits is not empty %}
        <p style="font-size: 20px; font-family: Tahoma">{{ 'produit.there_is' |trans({'nb' :produits|length}) }} :</p>
        <br/>
        <table class="table" style="font-family: Tahoma;">
            <thread>
                <tr>
                    <th>{{'produit.image'|trans}}</th>
                    <th>{{'produit.nom'|trans}}</th>
                    <th>{{'produit.quantite'|trans}}</th>
                    <th>{{'produit.prix'|trans}}</th>
                </tr>
            </thread>
            <tbody>
                {% for un_produit in produits %}
                    <tr>
                        <td>
                            {% if un_produit.image is not null %}
                                <img src="{{ asset('uploads/' ~ un_produit.image) }}">
                            {% endif %}
                        </td>
                        <td>
                            <a href="{{ path('mon_produit', {'id': un_produit.id}) }}">
                            {{ un_produit.nom }}
                            </a>
                        </td>
                        <td>{{ un_produit.qte }}</td>
                        <td>{{ un_produit.prix }}â‚¬</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    {% else %}
        <p style="font-size: 20px; font-family: Tahoma">{{'produit.rien' |trans}}</p>
    {% endif %}

    <br/>
    <div style="background-color: darkgrey; height: 3px;"></div>
    <br/>

    <h2 style="display:flex; justify-content:center; text-decoration: underline; font-family: Tahoma">{{ 'produit.add' |trans }}</h2>
    <br/>
    <div style="font-family: Tahoma">
        {{ form(form_produit_new) }}
    </div>

    <br/>
    <br/>
{% endblock %}
